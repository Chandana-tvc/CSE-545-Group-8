{% extends "base.html" %}
{% block javascript %}
 <script>
    function openDepositTemplate(customer){
         $.ajax({
              type: 'POST',
              url: './depositFund',
              data: {'customer':customer, csrfmiddlewaretoken: '{{ csrf_token }}'},
              success: function(data){
              }});
    }

  </script>
{% endblock %}
{% block content %}
<div class="form-group">
    <div>
        <form action='./searchCustomer' method="post">
            <label>Search Customer:</label>
            {% csrf_token %}
            <input type="text" id="customerSearchString" class="form-control" name="customerSearchString" value={{customerSearchString}}><br>
            <input type="submit" value="Search" class="btn btn-primary float-right app-submit"><br><br>
        </form>
    </div>

    <div>
        <table class="table table-hover">
            <thead class="thead-dark">
               <tr>
                  <th>Customer Name</th>
                  <th>Customer ID</th>
                  <th>Account ID</th>
                  <th>Account Type</th>
              </tr>
            </thead>

          {% for customer in customers %}
            <tr onclick="openDepositTemplate({{customer}})">
                    <td>{{customer.customerName}}</td>
                    <td>{{customer.customerId}}</td>
                    <td>${{customer.accountId}}</td>
                    <td>{{customer.accountType}}</td>
            </tr>
            {% endfor %}
        </table>
    </div>
</div>
{% endblock content %}